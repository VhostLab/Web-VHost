---
// src/components/InteractiveCardsSection.astro
const Items = [
  {
    title: 'Panel Intuitivo',
    description: 'Navega y administra todas las funciones de tu servidor con una interfaz clara, accesible y diseñada para una experiencia de usuario óptima.',
    image: '/images/panel1.png'
  },
  {
    title: 'Consola en Tiempo Real',
    description: 'La consola es ahora fluida e instantánea, con un nuevo y atractivo diseño y funciones totalmente nuevas y renovadas.',
    image: '/images/panel2.png'
  },
  {
    title: 'File Manager',
    description: 'Gestiona tus archivos directamente desde el navegador con arrastrar y soltar, edición en línea y permisos avanzados.',
    image: '/images/panel3.png'
  },
  {
    title: 'Gestión de Bases de Datos',
    description: 'Crea, configura y administra bases de datos MySQL y SQLite de forma sencilla desde un solo panel.',
    image: '/images/panel4.png'
  },
  {
    title: 'Gestión de Usuarios',
    description: 'Controla el acceso a tu servidor asignando roles y permisos a cada usuario con unos pocos clics.',
    image: '/images/panel5.png'
  }
];
---
<section class="py-20 bg-primary text-white">
  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 mb-12">
    <h2 class="text-4xl sm:text-5xl font-poppins font-bold text-center">
      Características Destacadas del Panel
    </h2>
  </div>

  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 md:flex md:space-x-12 items-stretch">

    <!-- Contenedor de tarjetas con min-height -->
    <div id="cards-container" class="w-full md:w-1/3 min-h-[360px]">
      {Items.map((item, i) => (
        <div
          class="card relative mb-6 p-6 bg-[#161616] rounded-xl cursor-pointer overflow-hidden transition transform hover:scale-[1.02] hover:shadow-xl"
          data-index={i}
        >
          {item.title && <h5 class="text-xl font-semibold mb-2">{item.title}</h5>}
          <p class="mt-2 text-base card-desc opacity-0 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
            {item.description}
          </p>
          <div class="progress-bar absolute bottom-0 left-0 h-2 bg-secondary w-full transform scale-x-0 origin-left"></div>
        </div>
      ))}
    </div>

    <!-- Columna de imagen que estira al alto total -->
    <div class="w-full md:w-2/3 flex justify-center items-center h-full bg-primary-dark">
      <img
        id="panel-image"
        src={Items[0].image}
        alt="Panel Screenshot"
        class="rounded-lg shadow-2xl h-full w-auto"
      />
    </div>
  </div>
</section>

<script type="module" src="/scripts/cardSlider.js" defer></script>

<style>
  .card.active .card-desc {
    opacity: 1;
    max-height: 200px;
  }
  .progress-bar {
    transform: scaleX(0);
    transition: none;
  }
  .card.active .progress-bar {
    transition: transform 8s linear;
    transform: scaleX(1);
  }
</style>
