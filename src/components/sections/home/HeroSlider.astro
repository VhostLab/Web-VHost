---
// src/components/HeroSlider.astro
---

<section
  x-data="{
    active: 0,
    slides: [
      {
        bg: '/images/inicio/hero/nether.webp',
        title: 'Minecraft Hosting',
        features: [
          { text: 'Soporte Java & Bedrock Edition' },
          { text: 'Protección Anti-DDoS incluida' },
          { text: 'Slots ilimitados para jugadores' },
          { text: 'Panel de control Pterodactyl' }
        ],
        price: '0,75€',
        btn: { text: 'Ver servidores Minecraft »', link: '/tienda/minecraft' }
      },
      {
        bg: '/images/tienda/hytale/hytale-wallpaper.jpg',
        title: 'Hytale Hosting',
        features: [
          { text: 'Pre-reserva tu servidor hoy' },
          { text: 'Ryzen 5 9600X' },
          { text: 'Soporte total para Scripting' },
          { text: 'Protección Anti-DDoS Game' }
        ],
        price: '3,99€',
        btn: { text: 'Ver servidores Hytale »', link: '/tienda/hytale' }
      },
      /*
      {
        bg: '/images/inicio/hero/ark-bg.webp',
        title: 'ARK Survival Evolved',
        features: [
          { text: 'Modpacks y mapas personalizados' },
          { text: 'Procesador Ryzen 5 9600X' },
          { text: 'Disco SSD NVMe ultrarrápido' },
          { text: 'Migración gratuita desde otros hosts' }
        ],
        price: '1,50€',
        btn: { text: 'Ver servidores ARK »', link: '/tienda/ark' }
      },
      {
        bg: '/images/inicio/hero/rust-bg.webp',
        title: 'Rust Hosting',
        features: [
          { text: 'Latencia ultra baja en España' },
          { text: 'Hardware optimizado Ryzen 5 9600X' },
          { text: 'Entrega y activación instantánea' },
          { text: 'Acceso FTP completo para mods' }
        ],
        price: '1,75€',
        btn: { text: 'Ver servidores Rust »', link: '/tienda/rust' }
      },
      {
        bg: '/images/inicio/hero/gta-bg.webp',
        title: 'GTA 5 Hosting',
        features: [
          { text: 'Optimizado para FiveM y RageMP' },
          { text: 'Rendimiento extremo sin lag' },
          { text: 'Scripts y recursos ilimitados' },
          { text: 'Soporte técnico especializado 24/7' }
        ],
        price: '2,00€',
        btn: { text: 'Ver servidores GTA »', link: '/tienda/gta5' }
      },
      
      {
        bg: '/images/inicio/hero/ts-bg.webp',
        title: 'TeamSpeak 3 Hosting',
        features: [
          { text: 'Calidad de audio cristalina' },
          { text: 'Servidores ubicados en España' },
          { text: 'Panel web completo incluido' },
          { text: 'Uptime garantizado 99.99%' }
        ],
        price: '0,50€',
        btn: { text: 'Ver servidores TS3 »', link: '/tienda/teamspeak3' }
      }
      */
    ],
    timer: null,
    startAutoplay() {
      this.timer = setInterval(() => this.next(), 5000);
    },
    stopAutoplay() {
      clearInterval(this.timer);
      this.timer = null;
    },
    next() { this.active = (this.active + 1) % this.slides.length; },
    prev() { this.active = (this.active - 1 + this.slides.length) % this.slides.length; }
  }"
  x-init="startAutoplay()"
  @mouseenter="stopAutoplay()"
  @mouseleave="startAutoplay()"
  class="relative w-full h-[500px] sm:h-[550px] md:h-[600px] bg-black/80 overflow-hidden"
  style="min-height: 420px; max-width: 100vw;"
>
  <template x-for="(slide, i) in slides" :key="i">
    <div
      x-show="active === i"
      x-transition:enter="transition-opacity duration-500"
      x-transition:enter-start="opacity-0"
      x-transition:enter-end="opacity-100"
      x-transition:leave="transition-opacity duration-300"
      x-transition:leave-start="opacity-100"
      x-transition:leave-end="opacity-0"
      class="absolute inset-0 w-full h-full bg-cover bg-center z-0"
      :style="`background-image: url('${slide.bg}')`"
    >
    </div>
  </template>
  <div class="absolute inset-0 bg-black/70 z-0"></div>
  <div
    class="absolute inset-0 pointer-events-none z-0"
    style="background: linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.9) 50%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.3) 80%, rgba(0,0,0,0) 100%);"
  >
  </div>

  <div
    class="relative container mx-auto px-6 sm:px-8 md:px-10 lg:px-12 h-full flex items-center z-10"
  >
    <template x-for="(slide, i) in slides" :key="i">
      <div
        x-show="active === i"
        x-transition:enter="transition-opacity duration-500"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition-opacity duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="absolute inset-0 flex items-center px-6 sm:px-8 md:px-10 lg:px-12"
        style="z-index: 10;"
      >
        <div class="w-full md:w-3/4 lg:w-2/3 max-w-4xl">
          <p
            class="text-xs sm:text-sm md:text-base lg:text-lg font-poppins uppercase text-secondary mb-2 md:mb-3"
          >
            Adquiere ahora
          </p>
          <h1
            class="text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-poppins font-bold mb-4 sm:mb-6 md:mb-8 leading-tight"
            x-text="slide.title"
          >
          </h1>

          <div class="mb-6 sm:mb-8 md:mb-10">
            <ul class="space-y-2 sm:space-y-3 md:space-y-4">
              <template x-for="feat in slide.features" :key="feat.text">
                <li class="flex items-start space-x-2 sm:space-x-3">
                  <span
                    class="text-secondary text-lg sm:text-xl md:text-2xl font-bold flex-shrink-0 mt-0.5"
                    >✓</span
                  >
                  <span
                    class="text-xs sm:text-sm md:text-lg text-gray-200 leading-relaxed"
                    x-text="feat.text"></span>
                </li>
              </template>
            </ul>
          </div>

          <div class="mt-4 sm:mt-6 md:mt-8">
            <a
              :href="slide.btn.link"
              class="btn-primary text-xs sm:text-sm md:text-base"
              x-text="slide.btn.text"></a>
          </div>
        </div>
      </div>
    </template>
  </div>

  <button
    @click="prev"
    aria-label="Anterior"
    class="hidden md:block absolute top-1/2 left-8 -translate-y-1/2 z-20 p-0 bg-transparent border-none outline-none hover:scale-110 transition"
    style="box-shadow: none;"
  >
    <svg
      class="w-8 h-8 text-white"
      fill="none"
      stroke="currentColor"
      stroke-width="3"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"
      ></path>
    </svg>
  </button>
  <button
    @click="next"
    aria-label="Siguiente"
    class="hidden md:block absolute top-1/2 right-8 -translate-y-1/2 z-20 p-0 bg-transparent border-none outline-none hover:scale-110 transition"
    style="box-shadow: none;"
  >
    <svg
      class="w-8 h-8 text-white"
      fill="none"
      stroke="currentColor"
      stroke-width="3"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"
      ></path>
    </svg>
  </button>
</section>
