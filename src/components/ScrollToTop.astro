---
// src/components/ScrollToTop.astro
---
<section>
  <button
    id="scroll-to-top"
    class="fixed bottom-[55px] right-6 w-12 h-12 bg-secondary text-black rounded shadow-lg opacity-0 transition-opacity duration-300 z-50 flex items-center justify-center"
  >
    <i class="fas fa-chevron-up"></i>
  </button>

  <script type="module">
    const btn = document.getElementById('scroll-to-top');
    const threshold = 200;

    function onScroll() {
      if (window.scrollY > threshold) {
        btn.classList.remove('opacity-0');
        btn.classList.add('opacity-100');
      } else {
        btn.classList.add('opacity-0');
        btn.classList.remove('opacity-100');
      }
    }

    btn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    window.addEventListener('scroll', onScroll);
    onScroll(); // initialize
  </script>
</section>
